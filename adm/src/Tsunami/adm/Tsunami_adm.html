<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tsunami</title>
    <link rel="stylesheet" href="css/Page_Tsunami.css">
    <link rel="stylesheet" href="css/respon.css">
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://kit.fontawesome.com/34b5bf92a4.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://kit.fontawesome.com/34b5bf92a4.css" crossorigin="anonymous">

    <script src="js/loader.js"></script>
    <script src="js/loader_tattoo.js"></script>
    <link rel="stylesheet" href="css/loader-tsunami.css">
</head>

<body  background="src/Tsunami/body_tsunami2.png">

    <div class="loader">
        <div class="loader-bottom"></div>
        <div class="loader-cup">
            <div class="loader-liquid"></div>
        </div>

        <div class="tattoo-machine">
            <img src="src/loader/loader_work_tattoo.png" alt="" srcset="">
        </div>

        <P class="p">
            CARREGANDO
            <div class="col-3">
                <div class="snippet" data-title="dot-falling">
                    <div class="stage">
                        <div class="dot-falling"></div>
                    </div>
                </div>
            </div>
        </P>
    </div>

    <nav>
        <ul class="links-tsunami">
            <li><a href="Home.html">Home</a></li>
            <li id="artista"><a href="catalogo_tsunami.html">Sobre o tatuador</a></li>
            <li>
                <div class="darkLight-searchBox">
                    <div class="dark-light">
                        <i class='bx bx-moon moon'></i>
                        <i class='bx bx-sun sun'></i>
                    </div>
            </li>
        </ul>
    </nav>
    </div>

    <script>
        const body = document.querySelector("body"),
            nav = document.querySelector("nav"),
            modeToggle = document.querySelector(".dark-light"),
            searchToggle = document.querySelector(".searchToggle"),
            sidebarOpen = document.querySelector(".sidebarOpen"),
            siderbarClose = document.querySelector(".siderbarClose");

        let getMode = localStorage.getItem("mode");
        if (getMode && getMode === "dark-mode") {
            body.classList.add("dark");
        }

        // js code to toggle dark and light mode
        modeToggle.addEventListener("click", () => {
            modeToggle.classList.toggle("active");
            body.classList.toggle("dark");

            // js code to keep user selected mode even page refresh or file reopen
            if (!body.classList.contains("dark")) {
                localStorage.setItem("mode", "light-mode");
            } else {
                localStorage.setItem("mode", "dark-mode");
            }
        });
    </script>
    <script src="https://kit.fontawesome.com/998c60ef77.js" crossorigin="anonymous"></script>
    <section id="studio">
        <div class="artes">
            <main>
                <button onclick="handleEdit(1)" class="botao_sobre ">Editar</button>
                <h2><p id="editable-paragraph">Sobre o nosso studio</p></h2> <p class="ideal">Ideal de img: 1920 x 622px</p>
                <br>
                <input type="file" id="file-input" accept="image/*" onchange="handleUpload()" /> 
                <br />
                <img id="uploaded-image" alt="Imagem carregada" src="src/Tsunami/studio_tsunami.png" class="studio_tsunami"/>
                <script>
                    window.onload = function() {
                      var savedText1 = localStorage.getItem('editedText1');
                      var savedText2 = localStorage.getItem('editedText2');
                      
                      if (savedText1) {
                        var paragraph1 = document.getElementById('editable-paragraph');
                        paragraph1.innerText = savedText1;
                      }
                      
                      if (savedText2) {
                        var paragraph2 = document.getElementById('editable-paragraph2');
                        paragraph2.innerText = savedText2;
                      }
                      
                      var savedImage = localStorage.getItem('uploadedImage');
                      if (savedImage) {
                        var imgElement = document.getElementById('uploaded-image');
                        imgElement.src = savedImage;
                      }
                    };
                
                    function handleUpload() {
                      var fileInput = document.getElementById('file-input');
                      var file = fileInput.files[0];
                
                      var reader = new FileReader();
                      reader.onload = function(e) {
                        var imageSrc = e.target.result;
                
                        localStorage.setItem('uploadedImage', imageSrc);
                
                        var imgElement = document.getElementById('uploaded-image');
                        imgElement.src = imageSrc;
                      };
                
                      reader.readAsDataURL(file);
                    }
                
                    function handleEdit(id) {
                      var paragraph;
                      var localStorageKey;
                      
                      if (id === 1) {
                        paragraph = document.getElementById('editable-paragraph');
                        localStorageKey = 'editedText1';
                      } else if (id === 2) {
                        paragraph = document.getElementById('editable-paragraph2');
                        localStorageKey = 'editedText2';
                      }
                
                      var editedText = prompt('Digite o novo texto:', paragraph.innerText);
                
                      if (editedText !== null) {
                        paragraph.innerText = editedText;
                        localStorage.setItem(localStorageKey, editedText);
                      }
                    }

                    function adjustContainerWidth(textLength) {
                        var container = document.querySelector('.couteiner');
                        var fontSize = 16; // Tamanho da fonte em pixels
                        var padding = 10; // Espaçamento interno do contêiner em pixels
                        var borderWidth = 2; // Largura da borda em pixels

                        // Calcular a largura mínima do contêiner com base no tamanho do texto
                        var minWidth = (textLength * fontSize) + (2 * padding) + (2 * borderWidth);

                        // Definir a largura mínima do contêiner
                        container.style.minWidth = minWidth + 'px';
                        }
                  </script>
                <br>
                <i class="fa-solid fa-location-dot"><a href="localização.html" id="localtsu"> Localização Studio</a></i> 
                <br>
                <br>
                <div class="descricao_tsunami">
                    <div class="couteiner">
                        <button onclick="handleEdit(2)" class="botao_sobre2">Editar</button>
                        <h2><p id="editable-paragraph2">Sobre o nosso studio</p></h2> 
                    </div>
                </div>
            </main>
        </div>
    </section>

    <footer >
        <h1>CONTATO</h1>
        <ul>
            <li><i class="fa-brands fa-instagram"><a href="https://www.instagram.com/"> Studio Fulano </a></i></li>
            <li><i class="fa-brands fa-facebook"><a href="https://www.facebook.com/"> Studio Fulano </a></i></li>
            <li><i class="fa-solid fa-phone-volume"><a> (45) 3264-4942</a></i></li>
        </ul>
    </footer>
</body>
</html>